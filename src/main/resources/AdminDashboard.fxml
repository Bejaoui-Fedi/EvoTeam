<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.effect.GaussianBlur?>

<StackPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="tn.esprit.controllers.AdminDashboardController"
           prefWidth="1400" prefHeight="800"
           stylesheets="@styles.css">

    <!-- ðŸŒ¿ Background nature apaisant -->
    <ImageView fitWidth="1400" fitHeight="800" preserveRatio="false" styleClass="nature-background">
        <image>
            <Image url="https://images.unsplash.com/photo-1501004318641-b39e6451bec6?w=1600&amp;q=80"
                   backgroundLoading="true"/>
        </image>
        <effect>
            <GaussianBlur radius="5"/>
        </effect>
    </ImageView>

    <!-- ðŸŒ¿ Overlay -->
    <Region styleClass="overlay"/>

    <!-- HBox principale avec Sidebar + Contenu -->
    <HBox spacing="0" alignment="CENTER">

        <!-- ================ NAVBAR LATÃ‰RALE GAUCHE ================ -->
        <VBox styleClass="sidebar" alignment="TOP_CENTER" prefWidth="250">

            <!-- Logo et titre -->
            <VBox alignment="CENTER" spacing="10" style="-fx-padding: 0 0 30 0;">
                <Label text="ðŸŒ¿" style="-fx-font-size: 48;" styleClass="sidebar-logo"/>
                <Label text="EVOLIA" style="-fx-font-size: 22; -fx-font-weight: bold; -fx-text-fill: white;"/>
                <Label text="ADMIN" style="-fx-font-size: 16; -fx-text-fill: #E0F2E0; -fx-background-color: rgba(255,255,255,0.15); -fx-padding: 5 15 5 15; -fx-background-radius: 20;"/>
            </VBox>

            <Separator style="-fx-background-color: rgba(255,255,255,0.3); -fx-pref-height: 1; -fx-pref-width: 180;"/>

            <!-- MENU DE NAVIGATION DYNAMIQUE -->
            <VBox spacing="10" style="-fx-padding: 20 0 0 0;" VBox.vgrow="ALWAYS">

                <!-- Tableau de bord -->
                <Button fx:id="btnDashboard" text="ðŸ“Š Tableau de bord"
                        styleClass="sidebar-button" prefWidth="210"
                        onAction="#handleDashboard"/>

                <!-- Utilisateurs -->
                <Button fx:id="btnUsers" text="ðŸ‘¥ Utilisateurs"
                        styleClass="sidebar-button" prefWidth="210"
                        onAction="#handleUsers"/>

                <!-- Ã‰vÃ©nements -->
                <Button fx:id="btnEvents" text="ðŸ“… Ã‰vÃ©nements"
                        styleClass="sidebar-button" prefWidth="210"
                        onAction="#handleEvents"/>

                <!-- Exercices -->
                <Button fx:id="btnExercises" text="ðŸ§˜ Exercices"
                        styleClass="sidebar-button" prefWidth="210"
                        onAction="#handleExercises"/>

                <!-- Bien-Ãªtre -->
                <Button fx:id="btnWellness" text="ðŸ’š Bien-Ãªtre"
                        styleClass="sidebar-button" prefWidth="210"
                        onAction="#handleWellness"/>

                <!-- Rendez-vous -->
                <Button fx:id="btnAppointments" text="ðŸ“† Rendez-vous"
                        styleClass="sidebar-button" prefWidth="210"
                        onAction="#handleAppointments"/>
            </VBox>

            <Region VBox.vgrow="ALWAYS"/>

            <!-- Footer navbar -->
            <VBox alignment="CENTER" spacing="15" style="-fx-padding: 30 0 0 0;">
                <Separator style="-fx-background-color: rgba(255,255,255,0.3); -fx-pref-height: 1; -fx-pref-width: 180;"/>
                <Button fx:id="btnLogout" text="ðŸšª DÃ©connexion"
                        styleClass="sidebar-button" prefWidth="210"
                        style="-fx-background-color: rgba(255,255,255,0.1);"
                        onAction="#handleLogout"/>
                <HBox alignment="CENTER" spacing="5">
                    <Label text="Admin" style="-fx-text-fill: #E0F2E0; -fx-font-size: 14;"/>
                    <Label text="â€¢" style="-fx-text-fill: #E0F2E0; -fx-font-size: 14;"/>
                    <Label text="admin@psycoach.com" style="-fx-text-fill: #E0F2E0; -fx-font-size: 12;"/>
                </HBox>
            </VBox>
        </VBox>

        <!-- ================ CONTENU PRINCIPAL ================ -->
        <StackPane fx:id="contentArea" HBox.hgrow="ALWAYS"
                   style="-fx-background-color: transparent; -fx-padding: 0;"/>

    </HBox>
</StackPane>
