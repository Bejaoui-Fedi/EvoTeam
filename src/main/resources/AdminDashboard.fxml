<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.effect.GaussianBlur?>

<StackPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="tn.esprit.controllers.AdminDashboardController"
           prefWidth="1400" prefHeight="800"
           stylesheets="@styles.css">

    <!-- ðŸŒ¿ Background nature apaisant -->
    <ImageView fitWidth="1400" fitHeight="800" preserveRatio="false" styleClass="nature-background">
        <image>
            <Image url="https://images.unsplash.com/photo-1501004318641-b39e6451bec6?w=1600&amp;q=80"
                   backgroundLoading="true"/>
        </image>
        <effect>
            <GaussianBlur radius="5"/>
        </effect>
    </ImageView>

    <!-- ðŸŒ¿ Overlay -->
    <Region styleClass="overlay"/>

    <!-- HBox principale avec Sidebar + Contenu -->
    <HBox spacing="0" alignment="CENTER">

        <!-- ================ NAVBAR ADMIN - DESIGN VERT AVEC ORGANISATION ================ -->
        <VBox style="-fx-background-color: rgba(58, 125, 107, 0.95);
                     -fx-background-radius: 0 20 20 0;
                     -fx-padding: 0;
                     -fx-pref-width: 280;
                     -fx-max-height: 800;
                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 20, 0, 0, 8);"
              alignment="TOP_CENTER">

            <!-- Logo et titre -->
            <VBox alignment="CENTER" spacing="10" style="-fx-background-color: rgba(40, 90, 75, 0.9); -fx-padding: 30 20 20 20; -fx-pref-width: 280;">
                <Label text="ðŸŒ¿" style="-fx-font-size: 48; -fx-text-fill: white; -fx-effect: dropshadow(gaussian, rgba(255,255,255,0.3), 10, 0, 0, 2);"/>
                <Label text="EVOLIA" style="-fx-font-size: 22; -fx-font-weight: bold; -fx-text-fill: white;"/>
                <Label text="ADMIN" style="-fx-font-size: 14; -fx-text-fill: #E0F2E0; -fx-background-color: rgba(255,255,255,0.15); -fx-padding: 5 20; -fx-background-radius: 20;"/>
            </VBox>

            <Separator style="-fx-background-color: rgba(255,255,255,0.2); -fx-pref-height: 1.5; -fx-pref-width: 220; -fx-padding: 5 0;"/>

            <!-- MENU AVEC SECTIONS -->
            <VBox spacing="5" style="-fx-padding: 20 15 20 15;" VBox.vgrow="ALWAYS">

                <!-- Section PRINCIPAL -->
                <Label text="PRINCIPAL" style="-fx-text-fill: #B5D3A7; -fx-font-size: 12; -fx-font-weight: bold; -fx-padding: 0 0 5 10; -fx-letter-spacing: 1px;"/>

                <Button fx:id="btnDashboard" text="ðŸ“Š Tableau de bord"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 15;
                               -fx-alignment: CENTER_LEFT; -fx-pref-width: 230; -fx-pref-height: 40;
                               -fx-padding: 0 0 0 20; -fx-background-radius: 10; -fx-cursor: hand;"
                        onAction="#handleDashboard"/>

                <Button fx:id="btnUsers" text="ðŸ‘¥ Utilisateurs"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 15;
                               -fx-alignment: CENTER_LEFT; -fx-pref-width: 230; -fx-pref-height: 40;
                               -fx-padding: 0 0 0 20; -fx-background-radius: 10; -fx-cursor: hand;"
                        onAction="#handleUsers"/>

                <!-- Section GESTION -->
                <Label text="GESTION" style="-fx-text-fill: #B5D3A7; -fx-font-size: 12; -fx-font-weight: bold; -fx-padding: 15 0 5 10; -fx-letter-spacing: 1px;"/>

                <Button fx:id="btnEvents" text="ðŸ“… Ã‰vÃ©nements"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 15;
                               -fx-alignment: CENTER_LEFT; -fx-pref-width: 230; -fx-pref-height: 40;
                               -fx-padding: 0 0 0 20; -fx-background-radius: 10; -fx-cursor: hand;"
                        onAction="#handleEvents"/>

                <Button fx:id="btnExercises" text="ðŸ§˜ Exercices"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 15;
                               -fx-alignment: CENTER_LEFT; -fx-pref-width: 230; -fx-pref-height: 40;
                               -fx-padding: 0 0 0 20; -fx-background-radius: 10; -fx-cursor: hand;"
                        onAction="#handleExercises"/>

                <Button fx:id="btnWellness" text="ðŸ’š Bien-Ãªtre"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 15;
                               -fx-alignment: CENTER_LEFT; -fx-pref-width: 230; -fx-pref-height: 40;
                               -fx-padding: 0 0 0 20; -fx-background-radius: 10; -fx-cursor: hand;"
                        onAction="#handleWellness"/>

                <Button fx:id="btnAppointments" text="ðŸ“† Rendez-vous"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 15;
                               -fx-alignment: CENTER_LEFT; -fx-pref-width: 230; -fx-pref-height: 40;
                               -fx-padding: 0 0 0 20; -fx-background-radius: 10; -fx-cursor: hand;"
                        onAction="#handleAppointments"/>
            </VBox>

            <Region VBox.vgrow="ALWAYS"/>

            <!-- Footer avec dÃ©connexion -->
            <VBox alignment="CENTER" spacing="10" style="-fx-background-color: rgba(40, 90, 75, 0.9); -fx-padding: 20 0 30 0; -fx-pref-width: 280;">
                <Separator style="-fx-background-color: rgba(255,255,255,0.2); -fx-pref-height: 1.5; -fx-pref-width: 220;"/>

                <Button fx:id="btnLogout" text="ðŸšª DÃ©connexion"
                        style="-fx-background-color: rgba(255,255,255,0.1); -fx-text-fill: white; -fx-font-size: 15;
                               -fx-alignment: CENTER_LEFT; -fx-pref-width: 230; -fx-pref-height: 40;
                               -fx-padding: 0 0 0 20; -fx-background-radius: 10; -fx-cursor: hand;"
                        onAction="#handleLogout"/>
            </VBox>
        </VBox>

        <!-- ================ CONTENU PRINCIPAL ================ -->
        <StackPane fx:id="contentArea" HBox.hgrow="ALWAYS"
                   style="-fx-background-color: transparent; -fx-padding: 0;"/>
    </HBox>
</StackPane>